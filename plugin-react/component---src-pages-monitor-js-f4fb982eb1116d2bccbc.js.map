{"version":3,"sources":["webpack:///./src/components/monitor/monitorTable.module.scss","webpack:///./node_modules/universal-cookie/es6/utils.js","webpack:///./node_modules/universal-cookie/es6/Cookies.js","webpack:///./node_modules/universal-cookie/es6/index.js","webpack:///./src/components/monitor/monitorSwitch.module.scss","webpack:///./src/components/iOSSwitch.js","webpack:///./src/components/monitor/monitorSwitch.js","webpack:///./src/components/monitor/monitorTable.js","webpack:///./src/components/monitor/monitor.js","webpack:///./src/pages/monitor.js","webpack:///./src/components/monitor/monitor.module.scss","webpack:///./src/common/config.js","webpack:///./node_modules/universal-cookie/node_modules/cookie/index.js"],"names":["module","exports","readCookie","value","options","cleanValue","substr","cleanupCookieValue","doNotParse","isParsingCookie","JSON","parse","e","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","Cookies","cookies","_this","changeListeners","HAS_DOCUMENT_COOKIE","cookie","parseCookies","Promise","document","catch","_updateBrowserValues","parseOptions","_emitChange","params","get","name","getAll","result","name_1","set","_a","stringify","remove","finalOptions","expires","Date","maxAge","undefined","addChangeListener","callback","push","removeChangeListener","idx","indexOf","splice","IOSSwitch","styled","props","React","createElement","Switch","focusVisibleClassName","disableRipple","_ref","theme","width","height","padding","margin","marginLeft","transitionDuration","transform","color","backgroundColor","palette","mode","opacity","border","grey","boxSizing","borderRadius","transition","transitions","create","duration","MonitorSwitch","monitorSwitchRef","_useState","useState","switchVal","setSwitchVal","useInterval","current","doTasks","getTaskCycleTime","FormControlLabel","className","monitorSwitchStyle","ControlToggle","control","onChange","canEnable","val","checked","labelPlacement","label","MonitorTableObj","headerList","data","tableColList","forEach","key","index","hide","text","hideColState","setHideColState","Fragment","monitorTableStyle","container","table","DataGrid","rows","columns","keys","map","colorPosGreenNegRedPercentField","PercentField","KMBTField","SymbolNameField","IndustryNameField","field","headerName","rowsPerPageOptions","scrollbarSize","pageSize","components","NoRowsOverlay","DefaultDataGridTable","disableSelectionOnClick","onColumnVisibilityChange","param","tempHideColState","MonitorTable","_ref2","tableID","monitorTableRef","monitorConfig","require","getMonitorConfig","setTable","lastUpdateTime","src","row","setMonitorTable","header_order","item","includes","id","convert2KMBTFloat","tryConvertFloat","setLastUpdateTime","_useState2","monitorTable","_useState3","Grid","spacing","xs","Typography","monitorTableTitle","variant","justifyContent","monitorTableLastUpdateTime","Monitor","COOKIE_KEY_API_TOKEN","path","COOKIE_KEY_REFRESH_TIME","apiTokenRef","useRef","refreshTimeMinutesRef","refreshMonitorData","_asyncToGenerator","_regeneratorRuntime","mark","_callee","monitor_index","_yield$queryMonitorDa","resp","ok","wrap","_context","prev","next","queryMonitorDataRef","doPost","monitor_url","monitor_data","max_count","sent","err","monitorTablesRef","toLocaleString","console","error","stop","_x","setDefaultMonitorData","_callee2","_yield$queryLocalData","_context2","queryLocalDataRef","doGet","timestamp","alert","createRef","isPositiveInteger","parseInt","setTimeout","useEffect","commonStyle","defaultFont","monitorStyle","controlPannel","md","noValidate","autoComplete","shortid","generate","TextField","valueText","defaultValue","size","inputRef","controlToggleContainer","QueryData","serverUrl","queryDataRef","MonitorURL","MonitorPage","StylesProvider","injectFirst","MonitorConfig","MarketConfig","symbol","api","ForecastConfig","freightos_FBX","type","algorithm","args","using_regressors","forecast_periods","target_data","file_path","feature_data","marketwatch_CL_1","marketwatch_HRN00","marketwatch_NG00","getMarketConfig","getForecastConfig","str","TypeError","obj","opt","pairs","split","dec","decode","pair","substring","trim","slice","tryDecode","serialize","enc","encode","fieldContentRegExp","test","isNaN","isFinite","Math","floor","domain","toUTCString","httpOnly","secure","sameSite","toLowerCase","decodeURIComponent","encodeURIComponent"],"mappings":"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","file":"component---src-pages-monitor-js-f4fb982eb1116d2bccbc.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"monitorTable-module--container--1cJ3i\",\"showColumn\":\"monitorTable-module--showColumn--2i-AB\",\"table\":\"monitorTable-module--table--2DDq7\",\"monitorTableTitle\":\"monitorTable-module--monitorTableTitle--2C_Z6\",\"monitorTableLastUpdateTime\":\"monitorTable-module--monitorTableLastUpdateTime--3n57C\"};","import * as cookie from 'cookie';\nexport function hasDocumentCookie() {\n  // Can we get/set cookies on document.cookie?\n  return typeof document === 'object' && typeof document.cookie === 'string';\n}\nexport function cleanCookies() {\n  document.cookie.split(';').forEach(function (c) {\n    document.cookie = c.replace(/^ +/, '').replace(/=.*/, '=;expires=' + new Date().toUTCString() + ';path=/');\n  });\n}\nexport function parseCookies(cookies, options) {\n  if (typeof cookies === 'string') {\n    return cookie.parse(cookies, options);\n  } else if (typeof cookies === 'object' && cookies !== null) {\n    return cookies;\n  } else {\n    return {};\n  }\n}\nexport function isParsingCookie(value, doNotParse) {\n  if (typeof doNotParse === 'undefined') {\n    // We guess if the cookie start with { or [, it has been serialized\n    doNotParse = !value || value[0] !== '{' && value[0] !== '[' && value[0] !== '\"';\n  }\n  return !doNotParse;\n}\nexport function readCookie(value, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  var cleanValue = cleanupCookieValue(value);\n  if (isParsingCookie(cleanValue, options.doNotParse)) {\n    try {\n      return JSON.parse(cleanValue);\n    } catch (e) {\n      // At least we tried\n    }\n  }\n  // Ignore clean value if we failed the deserialization\n  // It is not relevant anymore to trim those values\n  return value;\n}\nfunction cleanupCookieValue(value) {\n  // express prepend j: before serializing a cookie\n  if (value && value[0] === 'j' && value[1] === ':') {\n    return value.substr(2);\n  }\n  return value;\n}","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nimport * as cookie from 'cookie';\nimport { hasDocumentCookie, parseCookies, readCookie } from './utils';\nvar Cookies = /** @class */function () {\n  function Cookies(cookies, options) {\n    var _this = this;\n    this.changeListeners = [];\n    this.HAS_DOCUMENT_COOKIE = false;\n    this.cookies = parseCookies(cookies, options);\n    new Promise(function () {\n      _this.HAS_DOCUMENT_COOKIE = hasDocumentCookie();\n    }).catch(function () {});\n  }\n  Cookies.prototype._updateBrowserValues = function (parseOptions) {\n    if (!this.HAS_DOCUMENT_COOKIE) {\n      return;\n    }\n    this.cookies = cookie.parse(document.cookie, parseOptions);\n  };\n  Cookies.prototype._emitChange = function (params) {\n    for (var i = 0; i < this.changeListeners.length; ++i) {\n      this.changeListeners[i](params);\n    }\n  };\n  Cookies.prototype.get = function (name, options, parseOptions) {\n    if (options === void 0) {\n      options = {};\n    }\n    this._updateBrowserValues(parseOptions);\n    return readCookie(this.cookies[name], options);\n  };\n  Cookies.prototype.getAll = function (options, parseOptions) {\n    if (options === void 0) {\n      options = {};\n    }\n    this._updateBrowserValues(parseOptions);\n    var result = {};\n    for (var name_1 in this.cookies) {\n      result[name_1] = readCookie(this.cookies[name_1], options);\n    }\n    return result;\n  };\n  Cookies.prototype.set = function (name, value, options) {\n    var _a;\n    if (typeof value === 'object') {\n      value = JSON.stringify(value);\n    }\n    this.cookies = __assign(__assign({}, this.cookies), (_a = {}, _a[name] = value, _a));\n    if (this.HAS_DOCUMENT_COOKIE) {\n      document.cookie = cookie.serialize(name, value, options);\n    }\n    this._emitChange({\n      name: name,\n      value: value,\n      options: options\n    });\n  };\n  Cookies.prototype.remove = function (name, options) {\n    var finalOptions = options = __assign(__assign({}, options), {\n      expires: new Date(1970, 1, 1, 0, 0, 1),\n      maxAge: 0\n    });\n    this.cookies = __assign({}, this.cookies);\n    delete this.cookies[name];\n    if (this.HAS_DOCUMENT_COOKIE) {\n      document.cookie = cookie.serialize(name, '', finalOptions);\n    }\n    this._emitChange({\n      name: name,\n      value: undefined,\n      options: options\n    });\n  };\n  Cookies.prototype.addChangeListener = function (callback) {\n    this.changeListeners.push(callback);\n  };\n  Cookies.prototype.removeChangeListener = function (callback) {\n    var idx = this.changeListeners.indexOf(callback);\n    if (idx >= 0) {\n      this.changeListeners.splice(idx, 1);\n    }\n  };\n  return Cookies;\n}();\nexport default Cookies;","import Cookies from './Cookies';\nexport default Cookies;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ControlToggle\":\"monitorSwitch-module--ControlToggle--2Vw32\"};","import React from 'react'\nimport { styled } from '@mui/material/styles'\nimport Switch from '@mui/material/Switch'\n\n// ios switch \nexport const IOSSwitch = styled((props) => (\n  <Switch focusVisibleClassName=\".Mui-focusVisible\" disableRipple {...props} />\n))(({ theme }) => ({\n  width: 52,\n  height: 26,\n  padding: 1,\n  margin: 2,\n  marginLeft: 10,\n  '& .MuiSwitch-switchBase': {\n    padding: 1,\n    margin: 1,\n    transitionDuration: '300ms',\n    '&.Mui-checked': {\n      transform: 'translateX(26px)',\n      color: '#fff',\n      '& + .MuiSwitch-track': {\n        backgroundColor: theme.palette.mode === 'dark' ? '#2ECA45' : '#65C466',\n        opacity: 1,\n        border: 0,\n      },\n      '&.Mui-disabled + .MuiSwitch-track': {\n        opacity: 0.5,\n      },\n    },\n    '&.Mui-focusVisible .MuiSwitch-thumb': {\n      color: '#33cf4d',\n      border: '6px solid #fff',\n    },\n    '&.Mui-disabled .MuiSwitch-thumb': {\n      color:\n        theme.palette.mode === 'light'\n          ? theme.palette.grey[100]\n          : theme.palette.grey[600],\n    },\n    '&.Mui-disabled + .MuiSwitch-track': {\n      opacity: theme.palette.mode === 'light' ? 0.7 : 0.3,\n    },\n  },\n  '& .MuiSwitch-thumb': {\n    boxSizing: 'border-box',\n    width: 24,\n    height: 24,\n  },\n  '& .MuiSwitch-track': {\n    borderRadius: 26 / 2,\n    backgroundColor: theme.palette.mode === 'light' ? '#E9E9EA' : '#39393D',\n    opacity: 1,\n    transition: theme.transitions.create(['background-color'], {\n      duration: 500,\n    }),\n  },\n}))","import React, { useState } from 'react'\nimport FormControlLabel from '@mui/material/FormControlLabel'\n\nimport { IOSSwitch } from '../iOSSwitch'\nimport { useInterval } from '../../common/reactUtils'\n\nimport monitorSwitchStyle from './monitorSwitch.module.scss'\n\nconst MonitorSwitch = ({ monitorSwitchRef }) => {\n\n  const [switchVal, setSwitchVal] = useState(false)\n\n  useInterval(() => {\n    monitorSwitchRef.current.doTasks()\n  }, switchVal ? monitorSwitchRef.current.getTaskCycleTime() : null)\n\n  return (\n    <FormControlLabel\n      className={monitorSwitchStyle.ControlToggle}\n      control={\n        <IOSSwitch\n          onChange={() => { \n            if (monitorSwitchRef.current.canEnable()) {\n              let val = !switchVal\n              if (val) {\n                monitorSwitchRef.current.doTasks() // do task first time immediately\n              }\n              setSwitchVal(val) \n            }\n          }}\n          checked={switchVal}\n        />\n      }\n      labelPlacement='start'\n      label={'Monitor'}\n    />\n  )\n}\n\nexport default MonitorSwitch\n","import React, { useState } from 'react'\nimport { DataGrid } from '@mui/x-data-grid'\nimport Grid from '@mui/material/Grid'\nimport Typography from '@mui/material/Typography'\n\nimport { tryConvertFloat, convert2KMBTFloat } from '../../common/utils'\nimport { colorPosGreenNegRedPercentField, PercentField, KMBTField, SymbolNameField, IndustryNameField } from '../../common/reactUtils'\nimport DefaultDataGridTable from '../defaultDataGridTable'\n\nimport monitorTableStyle from './monitorTable.module.scss'\nimport '../muiTablePagination.css'\n\n\nconst MonitorTableObj = ({ headerList, data}) => {\n  // console.log(data)\n  const tableColList = {}\n  headerList.forEach((key, index) => {\n    if (key !== 'id' && key !== 'Url' ) {\n      tableColList[key] = { hide: false, text: key }\n    }\n  })\n\n  const [hideColState, setHideColState] = useState({})\n\n  const genTableColTemplate = () => {\n    return Object.keys(tableColList).map((key) => {\n      if (key === 'Change' || key === 'EPS Q/Q' || key === 'EPS next 5Y' || key === 'EPS next Y' || key === 'EPS past 5Y' || \n        key === 'EPS this Y' || key === 'Insider Trans' || key === 'Inst Trans' || key === 'ROA' || key === 'ROE' || \n        key === 'ROI' || key === 'SMA20' || key === 'SMA200' || key.indexOf('Perf ')!=-1) {\n        return colorPosGreenNegRedPercentField(tableColList[key].text, tableColList[key].text, 150, key in hideColState ? hideColState[key] : tableColList[key].hide)\n      } else if (key === 'Dividend' || key === 'Sales Q/Q' || key === 'Sales past 5Y' || key === 'Insider Own' || \n        key === 'Inst Own' || key === 'Gross Margin' || key === 'Oper. Margin' || key === 'Profit Margin' || key === 'Float Short' || \n        key === '52W High' || key === '52W Low' || key === '50D High' || key === '50D Low'){\n        return PercentField(tableColList[key].text, tableColList[key].text, 150, key in hideColState ? hideColState[key] : tableColList[key].hide)\n      } else if (key === 'Market Cap' || key === 'Volume' || key === 'Avg Volume') {\n        return KMBTField(tableColList[key].text, tableColList[key].text, 150, key in hideColState ? hideColState[key] : tableColList[key].hide)\n      } else if (key === 'Ticker') {\n        return SymbolNameField(tableColList[key].text, tableColList[key].text, 130, key in hideColState ? hideColState[key] : tableColList[key].hide)\n      } else if (key === 'Name') {\n        return IndustryNameField(tableColList[key].text, tableColList[key].text, 250, key in  hideColState ? hideColState[key] : tableColList[key].hide)\n      } else {\n        return {\n          field: tableColList[key].text, headerName: tableColList[key].text, width: 150, hide: key in hideColState ? hideColState[key] : tableColList[key].hide\n        }\n      }\n    })\n  }\n\n  return (\n    <>\n      <div className={monitorTableStyle.container}>\n        <div className={monitorTableStyle.table}>\n          <DataGrid rows={data} columns={genTableColTemplate()} rowsPerPageOptions={[]} scrollbarSize={17} pageSize={50} components={{ NoRowsOverlay: DefaultDataGridTable, }} disableSelectionOnClick onColumnVisibilityChange={(param) => {\n            let tempHideColState = hideColState\n            tempHideColState[param['field']] = !param['isVisible']\n            setHideColState(tempHideColState)\n          }}/>\n        </div>\n      </div>\n    </>\n  )\n}\n\nconst MonitorTable = ({tableID, name, monitorTableRef}) => {\n  const config = require('../../common/config')\n  const monitorConfig = config.getMonitorConfig() // config.js also used on nodejs\n\n  monitorTableRef.current = {\n    setTable: (data, lastUpdateTime)=>{\n      const appendIdAndTryConvertFloat = (src) => {\n        // console.log(src)\n        return src.map((value, index) => {\n          value.id = index \n          //tryConvertFloat\n          Object.keys(value).forEach((key) => {\n            if (key === 'Market Cap' || key === 'Avg Volume') {\n              value[key] = convert2KMBTFloat(value[key])\n            } else {\n              value[key] = tryConvertFloat(value[key])\n            }\n          })\n          return value\n        })\n      }\n\n      const genOrderedHeaderList = (row)=>{\n        let headerList = [] \n        monitorConfig.header_order.forEach((item) => {\n          if (item in row) {\n            headerList.push(item)\n          }\n        })\n\n        Object.keys(row).forEach((key) => {\n          if (!monitorConfig.header_order.includes(key)) {\n            headerList.push(key)\n          }\n        })  \n        return headerList\n      }\n\n      setMonitorTable(<MonitorTableObj headerList={genOrderedHeaderList(data[0])} data={appendIdAndTryConvertFloat(data)}/>)\n      setLastUpdateTime('Last Update Time: ' + lastUpdateTime)\n    }\n  }\n\n  const [monitorTable, setMonitorTable] = useState()\n  const [lastUpdateTime, setLastUpdateTime] = useState('Last Update Time: None')\n\n  return (\n    <>\n      <Grid container spacing={3}>\n        <Grid item xs={6}>\n          <Typography className={monitorTableStyle.monitorTableTitle} variant=\"h6\">\n            {name}\n          </Typography>\n        </Grid>\n        <Grid container item xs={6} justifyContent=\"flex-end\">\n          <Typography className={monitorTableStyle.monitorTableLastUpdateTime} variant=\"h6\">\n            {lastUpdateTime}\n          </Typography>\n        </Grid>\n      </Grid>\n      {monitorTable}\n    </>\n  )\n}\n\nexport default MonitorTable\n","import React, { useEffect, useRef, createRef } from 'react'\nimport Grid from '@mui/material/Grid'\nimport TextField from '@mui/material/TextField'\nimport shortid from 'shortid'\nimport Cookies from 'universal-cookie'\n\nimport { MonitorURL, COOKIE_KEY_API_TOKEN, COOKIE_KEY_REFRESH_TIME } from '../../common/def'\nimport { isPositiveInteger } from '../../common/utils'\nimport { QueryData } from '../../common/reactUtils'\n\nimport MonitorSwitch from './monitorSwitch'\nimport MonitorTable from './monitorTable'\n\nimport commonStyle from '../common.module.scss'\nimport monitorStyle from './monitor.module.scss'\n\nconst Monitor = () => {\n\n  const config = require('../../common/config')\n  const monitorConfig = config.getMonitorConfig() // config.js also used on nodejs\n  const cookies = new Cookies()\n\n  if (!cookies.get(COOKIE_KEY_API_TOKEN)){\n    cookies.set(COOKIE_KEY_API_TOKEN, 'None', { path: '/' })\n  }\n\n  if (!cookies.get(COOKIE_KEY_REFRESH_TIME)) {\n    cookies.set(COOKIE_KEY_REFRESH_TIME, '5', { path: '/' })\n  }\n\n  const apiTokenRef = useRef(\"None\")\n  const refreshTimeMinutesRef = useRef(5)\n\n  const refreshMonitorData = async (monitor_index) => {\n    const { resp, ok, err } = await queryMonitorDataRef.current.doPost('/api/StockMineHunterFunc?code=' + apiTokenRef.current.value + '&api=get-monitor-data', {\n      monitor_url: monitorConfig.monitor_data[monitor_index].monitor_url,\n      max_count: monitorConfig.monitor_data[monitor_index].max_count,\n    })\n    if (ok && Object.keys(resp).length > 0) {\n      monitorTablesRef.current[monitor_index].current.setTable(resp.data, new Date().toLocaleString('en-US'))\n    }\n    else {\n      console.error(\"refreshMonitorData failed\")\n    }\n  }\n\n  const setDefaultMonitorData = async () => {\n    const { resp, ok, err } = await queryLocalDataRef.current.doGet('/plugin-react/monitor_data.json')\n    if (ok && Object.keys(resp).length > 0) {\n      resp.forEach((value, index) => {\n        monitorTablesRef.current[index].current.setTable(value.data, new Date(value.timestamp*1000).toLocaleString('en-US'))\n      })\n    }\n    else {\n      alert(\"Get default monitor data failed...\")\n      console.error(\"setDefaultMonitorData failed\")\n    }\n  }\n\n  const monitorTablesRef = useRef([])\n  monitorConfig.monitor_data.forEach((value, index) => {\n    monitorTablesRef.current[index] = createRef()\n    monitorTablesRef.current[index].current = {\n      setTable: null\n    }\n  })\n\n  const monitorSwitchRef = useRef()\n  monitorSwitchRef.current = {\n    canEnable: () => {\n      if (!isPositiveInteger(refreshTimeMinutesRef.current.value)) {\n        alert(\"The refresh time is invalid...\")\n        return false\n      } else if (parseInt(refreshTimeMinutesRef.current.value) < 5) {\n        alert(\"The refresh time must greater than or equal to 5...\")\n        return false\n      }\n      return true\n    }, \n    getTaskCycleTime: () => {\n      return parseInt(refreshTimeMinutesRef.current.value) * 60 * 1000\n    }, \n    doTasks: () => {\n      monitorConfig.monitor_data.forEach((value, index) => {\n        setTimeout(() => {\n          refreshMonitorData(index)\n        }, 5000 * index)\n      })\n    }\n  }\n\n  const queryLocalDataRef = useRef()\n  queryLocalDataRef.current = {\n    doGet: null\n  }\n  const queryMonitorDataRef = useRef()\n  queryMonitorDataRef.current = {\n    doGet: null\n  }\n\n  useEffect(() => {\n    // componentDidMount is here!\n    // componentDidUpdate is here!\n    setDefaultMonitorData()\n\n    return () => {\n      // componentWillUnmount is here!\n    }\n  }, [])\n\n  return (\n    <div className={commonStyle.defaultFont + ' ' + monitorStyle.container}>\n      <div className={monitorStyle.controlPannel}>\n        <Grid container spacing={3}>\n          <Grid item xs={5} md={8}>\n            <form noValidate autoComplete=\"off\" key={shortid.generate()}>\n              <TextField className={monitorStyle.valueText} label={'API Token'} variant=\"outlined\" defaultValue={cookies.get(COOKIE_KEY_API_TOKEN)} size=\"small\" inputRef={apiTokenRef} onChange={(e) => {\n                cookies.set(COOKIE_KEY_API_TOKEN, apiTokenRef.current.value, { path: '/' })\n              }} />\n            </form>\n          </Grid>\n          <Grid item xs={5} md={2}>\n            <form noValidate autoComplete=\"off\" key={shortid.generate()}>\n              <TextField className={monitorStyle.valueText} label={'Refresh Time (min)'} variant=\"outlined\" defaultValue={cookies.get(COOKIE_KEY_REFRESH_TIME)} size=\"small\" inputRef={refreshTimeMinutesRef} onChange={(e) => {\n                cookies.set(COOKIE_KEY_REFRESH_TIME, refreshTimeMinutesRef.current.value, { path: '/' })\n              }} />\n            </form>\n          </Grid>\n          <Grid container item xs={2} md={2} justifyContent=\"flex-end\">\n            <div className={monitorStyle.controlToggleContainer} >\n              <MonitorSwitch monitorSwitchRef={monitorSwitchRef}/>\n            </div>\n          </Grid>\n        </Grid>\n      </div>\n      <div>\n        {monitorConfig.monitor_data.map((value, index) => {\n          return (\n            <div key={shortid.generate()} className={monitorStyle.monitorTable} >\n              <MonitorTable tableID={value.id} name={value.name} monitorTableRef={monitorTablesRef.current[index]} />\n            </div>\n          )\n        })}\n      </div>\n      <QueryData serverUrl={''} queryDataRef={queryLocalDataRef} />\n      <QueryData serverUrl={MonitorURL} queryDataRef={queryMonitorDataRef}/>\n    </div>\n  )\n}\n\nexport default Monitor\n","import React from 'react'\nimport { StylesProvider } from '@mui/styles'\n\nimport Monitor from '../components/monitor/monitor'\n\nconst MonitorPage = () => {\n  return (\n    <StylesProvider injectFirst>\n      <Monitor />\n    </StylesProvider>\n  )\n}\n\nexport default MonitorPage\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"monitor-module--container--a6cm5\",\"controlPannel\":\"monitor-module--controlPannel--15sgk\",\"valueText\":\"monitor-module--valueText--WkMoX\",\"controlToggleContainer\":\"monitor-module--controlToggleContainer--nL2yn\",\"monitorBtn\":\"monitor-module--monitorBtn--3Bi3q\",\"monitorTable\":\"monitor-module--monitorTable--3VRqO\"};","const MonitorConfig = {\n  monitor_data: [\n    {\n      id: 'all-stock-change-order-200',\n      name: 'All Stock, Change Order 200',\n      monitor_url: 'https://finviz.com/screener.ashx?v=152&o=-change&c=1,4,6,7,8,10,11,12,14,17,18,19,20,21,22,23,26,27,28,29,30,31,32,33,34,35,36,37,38,42,43,44,45,46,47,52,54,55,56,57,58,62,63,65,66,67,69',\n      max_count: 200\n    },\n    {\n      id: 'pb2-tpc-change-order-200',\n      name: 'P/B < 2 & Target Price > Current, Change Order 200',\n      monitor_url: 'https://finviz.com/screener.ashx?v=151&f=fa_pb_u2,targetprice_above&ft=4&o=-change&c=1,4,6,7,8,10,11,12,14,17,18,19,20,21,22,23,26,27,28,29,30,31,32,33,34,35,36,37,38,42,43,44,45,46,47,52,54,55,56,57,58,62,63,65,66,67,69',\n      max_count: 200\n    },\n    {\n      id: 'all-industry-change-order',\n      name: 'All Industry, Change Order',\n      monitor_url: 'https://finviz.com/groups.ashx?g=industry&v=152&o=-change&c=1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26',\n      max_count: 200\n    },\n  ],\n  header_order: [\n    'Ticker',\n    'Name',\n    'Price',\n    'Change',\n    'Target Price',\n    'P/E',\n    'P/B',\n    'Perf Week',\n    'Perf Month',\n    'Perf Quart',\n    'Perf Half',\n    'Perf Year',\n    'Perf YTD',\n    'Insider Own',\n    'Insider Trans',\n    'Inst Own',\n    'Inst Trans',\n    '50D High',\n    '50D Low',\n    '52W High',\n    '52W Low',\n    'Industry',\n    'Market Cap',\n    'P/S',\n    'P/C',\n    'Dividend',\n    'EPS this Y',\n    'EPS next Y',\n    'EPS past 5Y',\n    'EPS next 5Y',\n    'Sales past 5Y',\n    'EPS Q/Q',\n    'Sales Q/Q',\n    'Float Short',\n    'Short Ratio',\n    'ROA',\n    'ROE',\n    'ROI',\n    'Curr R',\n    'Quick R',\n    'LTDebt/Eq',\n    'Debt/Eq',\n    'SMA20',\n    'SMA200',\n    'Recom',\n    'Avg Volume',\n    'Volume'\n  ]\n}\n\nconst MarketConfig = {\n  data:[\n    {\n      symbol: \"HRN00\",\n      src: \"marketwatch\",\n      api: \"investing/future/hrn00\"\n    },\n    {\n      symbol: \"STEEL\",\n      src: \"marketwatch\",\n      api: \"investing/index/steel?countryCode=XX\"\n    },\n    {\n      symbol: \"FBX\",\n      src: \"freightos\",\n      api: \"api/lane/FBX?isDaily=true\"\n    },\n    {\n      symbol: \"DJUSMT\",\n      src: \"marketwatch\",\n      api: \"investing/index/djusmt?countrycode=xx\"\n    },\n    {\n      symbol: \"NBI\",\n      src: \"marketwatch\",\n      api: \"investing/index/nbi\"\n    },\n    {\n      symbol: \"CL.1\",\n      src: \"marketwatch\",\n      api: \"investing/future/cl.1\"\n    },\n    {\n      symbol: \"U.S. Crude Oil Inventories\",\n      src: \"investing\",\n      api: \"https://sbcharts.investing.com/events_charts/us/75.json;https://www.investing.com/economic-calendar/eia-crude-oil-inventories-75\"\n    },\n    {\n      symbol: \"TMUBMUSD10Y\",\n      src: \"marketwatch\",\n      api: \"investing/bond/tmubmusd10y?countrycode=bx\"\n    },\n\t{\n      symbol: \"SOX\",\n      src: \"marketwatch\",\n      api: \"investing/index/sox\"\n    },\n    {\n      symbol: \"COMP\",\n      src: \"marketwatch\",\n      api: \"investing/index/comp\"\n    },\n    {\n      symbol: \"DJIA\",\n      src: \"marketwatch\",\n      api: \"investing/index/djia\"\n    },\n    {\n      symbol: \"SPY\",\n      src: \"marketwatch\",\n      api: \"investing/fund/spy\"\n    },\n    {\n      symbol: \"VTI\",\n      src: \"marketwatch\",\n      api: \"investing/fund/vti\"\n    }\n  ]\n}\n\nconst ForecastConfig = {\n// stocks will be auto generated\n// watch market\n  freightos_FBX: [\n    {\n      type: \"market_fbprophet_empty\",\n      algorithm: \"fbprophet\",\n      args: {\n        using_regressors: [],\n        forecast_periods: 30\n      },\n      target_data: {\n        name: \"freightos_FBX\",\n        file_path: \"markets/historical-quotes/freightos_FBX.json\",\n        type: \"market\"\n      },\n      feature_data: [\n\n      ]\n    }\n  ],\n  marketwatch_CL_1: [\n    {\n      type: \"market_fbprophet_empty\",\n      algorithm: \"fbprophet\",\n      args: {\n        using_regressors: [],\n        forecast_periods: 30\n      },\n      target_data: {\n        name: \"marketwatch_CL_1\",\n        file_path: \"markets/historical-quotes/marketwatch_CL_1.json\",\n        type: \"market\"\n      },\n      feature_data: [\n\n      ]\n    }\n  ],\n  marketwatch_HRN00: [\n    {\n      type: \"market_fbprophet_empty\",\n      algorithm: \"fbprophet\",\n      args: {\n        using_regressors: [],\n        forecast_periods: 30\n      },\n      target_data: {\n        name: \"marketwatch_HRN00\",\n        file_path: \"markets/historical-quotes/marketwatch_HRN00.json\",\n        type: \"market\"\n      },\n      feature_data: [\n\n      ]\n    }\n  ],\n  marketwatch_NG00: [\n    {\n      type: \"market_fbprophet_empty\",\n      algorithm: \"fbprophet\",\n      args: {\n        using_regressors: [],\n        forecast_periods: 30\n      },\n      target_data: {\n        name: \"marketwatch_NG00\",\n        file_path: \"markets/historical-quotes/marketwatch_NG00.json\",\n        type: \"market\"\n      },\n      feature_data: [\n\n      ]\n    }\n  ],\n}\n\nmodule.exports = {\n  getMonitorConfig: function () {\n    return MonitorConfig\n  },\n  getMarketConfig: function () {\n    return MarketConfig\n  },\n  getForecastConfig: function () {\n    return ForecastConfig\n  },\n}\n","/*!\n * cookie\n * Copyright(c) 2012-2014 Roman Shtylman\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\nexports.parse = parse;\nexports.serialize = serialize;\n\n/**\n * Module variables.\n * @private\n */\n\nvar decode = decodeURIComponent;\nvar encode = encodeURIComponent;\n\n/**\n * RegExp to match field-content in RFC 7230 sec 3.2\n *\n * field-content = field-vchar [ 1*( SP / HTAB ) field-vchar ]\n * field-vchar   = VCHAR / obs-text\n * obs-text      = %x80-FF\n */\n\nvar fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;\n\n/**\n * Parse a cookie header.\n *\n * Parse the given cookie header string into an object\n * The object has the various cookies as keys(names) => values\n *\n * @param {string} str\n * @param {object} [options]\n * @return {object}\n * @public\n */\n\nfunction parse(str, options) {\n  if (typeof str !== 'string') {\n    throw new TypeError('argument str must be a string');\n  }\n  var obj = {};\n  var opt = options || {};\n  var pairs = str.split(';');\n  var dec = opt.decode || decode;\n  for (var i = 0; i < pairs.length; i++) {\n    var pair = pairs[i];\n    var index = pair.indexOf('=');\n\n    // skip things that don't look like key=value\n    if (index < 0) {\n      continue;\n    }\n    var key = pair.substring(0, index).trim();\n\n    // only assign once\n    if (undefined == obj[key]) {\n      var val = pair.substring(index + 1, pair.length).trim();\n\n      // quoted values\n      if (val[0] === '\"') {\n        val = val.slice(1, -1);\n      }\n      obj[key] = tryDecode(val, dec);\n    }\n  }\n  return obj;\n}\n\n/**\n * Serialize data into a cookie header.\n *\n * Serialize the a name value pair into a cookie string suitable for\n * http headers. An optional options object specified cookie parameters.\n *\n * serialize('foo', 'bar', { httpOnly: true })\n *   => \"foo=bar; httpOnly\"\n *\n * @param {string} name\n * @param {string} val\n * @param {object} [options]\n * @return {string}\n * @public\n */\n\nfunction serialize(name, val, options) {\n  var opt = options || {};\n  var enc = opt.encode || encode;\n  if (typeof enc !== 'function') {\n    throw new TypeError('option encode is invalid');\n  }\n  if (!fieldContentRegExp.test(name)) {\n    throw new TypeError('argument name is invalid');\n  }\n  var value = enc(val);\n  if (value && !fieldContentRegExp.test(value)) {\n    throw new TypeError('argument val is invalid');\n  }\n  var str = name + '=' + value;\n  if (null != opt.maxAge) {\n    var maxAge = opt.maxAge - 0;\n    if (isNaN(maxAge) || !isFinite(maxAge)) {\n      throw new TypeError('option maxAge is invalid');\n    }\n    str += '; Max-Age=' + Math.floor(maxAge);\n  }\n  if (opt.domain) {\n    if (!fieldContentRegExp.test(opt.domain)) {\n      throw new TypeError('option domain is invalid');\n    }\n    str += '; Domain=' + opt.domain;\n  }\n  if (opt.path) {\n    if (!fieldContentRegExp.test(opt.path)) {\n      throw new TypeError('option path is invalid');\n    }\n    str += '; Path=' + opt.path;\n  }\n  if (opt.expires) {\n    if (typeof opt.expires.toUTCString !== 'function') {\n      throw new TypeError('option expires is invalid');\n    }\n    str += '; Expires=' + opt.expires.toUTCString();\n  }\n  if (opt.httpOnly) {\n    str += '; HttpOnly';\n  }\n  if (opt.secure) {\n    str += '; Secure';\n  }\n  if (opt.sameSite) {\n    var sameSite = typeof opt.sameSite === 'string' ? opt.sameSite.toLowerCase() : opt.sameSite;\n    switch (sameSite) {\n      case true:\n        str += '; SameSite=Strict';\n        break;\n      case 'lax':\n        str += '; SameSite=Lax';\n        break;\n      case 'strict':\n        str += '; SameSite=Strict';\n        break;\n      case 'none':\n        str += '; SameSite=None';\n        break;\n      default:\n        throw new TypeError('option sameSite is invalid');\n    }\n  }\n  return str;\n}\n\n/**\n * Try decoding a string using a decoding function.\n *\n * @param {string} str\n * @param {function} decode\n * @private\n */\n\nfunction tryDecode(str, decode) {\n  try {\n    return decode(str);\n  } catch (e) {\n    return str;\n  }\n}"],"sourceRoot":""}